<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>s4</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script src="http://style.t305.com/mc/bower_components/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">
  var json=[{
 "name" :"shuzhou",
 "id" : "001",
 "items" : [{
  "parentNode" : "shuzhou",
  "name" : "shuzhou01",
  "id" : "00101"
 },
 {
  "parentNode" : "shuzhou",
  "name" : "shuzhou02",
  "id" : "00102"
 }]
},{
 "name" :"mc",
 "id" : "0011",
 "items" : [{
  "parentNode" : "mc",
  "name" : "mc01",
  "id" : "0001101"
 },
 {
  "parentNode" : "mc",
  "name" : "mc02",
  "id" : "0001102"
 }]
}
]
   
  window.Sel={
   initPro:function(s1,s2) {
       var option1 = '';
       
        $.each(json, function(index, indexItems) {
         option1 += "<option value=" + indexItems.id + ">"
           + indexItems.name + "</option>";
        });
        $("#"+s1).append(option1);
        $("#"+s1).bind("change", function() {
       
        Sel.second(json,s1,s2);

        })
      },
 
 second:function(json,s1,s2) {
    s1='first';
    s2="second";
    var option2 = '';
    var selectedIndex = $("#" + s1 + " :selected").text();
    $("#"+s2).empty();
    if($("#"+s1+":selected").val() == -1){
     $("#"+s2).append("<option value=\"-1\">请选择</option>");
    }
    $.each(json, function(index, indexItems) {
     var proName = indexItems.name;
     $.each(indexItems.items, function(index, indexItems) {
      if (indexItems.parentNode != selectedIndex) {
       return true;﻿
      } 
       option2 += "<option value=" + indexItems.id + ">"
         + indexItems.name + "</option>";
   })
  });
  $("#"+s2).append(option2);
 },
 selectDefault:function(s1,s2,val1,val2) {
    $("#" + s1).val(val1);
    $("#" + s1).trigger('change');
    $("#" + s2).val(val2);
 }
}
  function selectDefault(s1,s2){

    if ( typeof(firstVal) !== 'undefined'){
       $("#"+s1).val(firstVal)
                       
}
    if ( typeof(secondVal) !== 'undefined'){
      $("#"+s2).val(secondVal);
}   

}


$(function(){
 
  Sel.initPro("first","second");
  Sel.selectDefault("first","second","0011","0001102");
 
  
})
 



  
</script>
</head>
<body>
    
     <select id="first">
          <option value="-1">请选择</option>
     </select>
     <select id="second">
          <option value="-1">请选择</option>
     </select>

</body>
</html>